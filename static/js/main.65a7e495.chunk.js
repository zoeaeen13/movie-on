(this["webpackJsonpmovie-on-project"]=this["webpackJsonpmovie-on-project"]||[]).push([[0],{399:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(34),i=n.n(s),r=n(17),o=n(8),l=n(11),d=n(26),u=n(86),j=n(2),b=function(){return Object(j.jsxs)("div",{className:"home-banner",children:[Object(j.jsxs)("div",{className:"info",children:[Object(j.jsx)("h3",{children:"\u6e2c\u8a66\u6a19\u984c"}),Object(j.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the standard dummy text since the 1500s"}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsxs)(d.b,{to:"/",children:[Object(j.jsx)(u.a,{icon:"info"}),"\u67e5\u770b\u5167\u5bb9"]}),Object(j.jsxs)(d.b,{to:"/",children:[Object(j.jsx)(u.a,{icon:"arrow-circle-right"}),"\u66f4\u591a\u65b0\u7247"]})]})]}),Object(j.jsx)("div",{className:"home-banner-bottom"})]})},m=n(179),O=n.n(m),h=n(12),p=function(e){var t=e.children,n=document.body;return Object(s.createPortal)(t,n)},v=function(e){var t=e.children,n=Object(a.useRef)(null),c={closeModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1?arguments[1]:void 0,a=function(){n.current&&n.current.remove(),Object(h.isFunction)(t)&&t()};setTimeout(a,e)}};return Object(j.jsx)(p,{children:Object(j.jsx)("div",{ref:n,children:Object(a.cloneElement)(t,Object(r.a)(Object(r.a)({},t.props),c))})})},f=function(e){var t=Object(j.jsx)(v,{children:e}),n=document.createElement("div");Object(s.render)(t,n)};function x(e){var t=document.querySelectorAll("".concat(e||".modal"));t&&t.forEach((function(e){e.classList.add("hidden"),setTimeout((function(){return e.remove()}),100)}))}var g=function(e){var t=e.data,n=Object(a.useState)(!1),c=Object(o.a)(n,2),s=c[0],i=c[1],r=Object(a.useRef)(null),l=Object(a.useCallback)((function(){x(),i(!0)}),[]);return Object(a.useEffect)((function(){if(s){var e=r.current.getBoundingClientRect();f(Object(j.jsx)(F,{data:t,clintRect:e,setVisible:i}))}}),[s]),Object(j.jsx)("div",{onMouseOut:function(){return i(!1)},onMouseEnter:l,className:"movie-card",ref:r,children:Object(j.jsx)("img",{src:t.img})})},w=c.a.memo(g),y=n(21),_=n.n(y),N=n(35),S=n(180),k=n.n(S).a.create({baseURL:"https://movieon.tw",headers:{"Content-Type":"application/json"},withCredentials:!1,validateStatus:function(e){return e>=200&&e<=500}});k.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),k.interceptors.response.use((function(e){if(200!==e.status){var t=e.data.message||e.data.msg;console.error("url:".concat(e.request.responseURL," error"),"errorMessage:".concat(t),"status code:".concat(e.status))}return e}),(function(e){return console.error(e),e.response&&console.error(e.response.request.responseURL,e),Promise.reject(e)}));var E=function(e){return k.get("/api/movie/",{params:e})},T=function(e){return k.get("api/detail/".concat(e))},C=function(e){return k.get("api/movie/recommend?&id=".concat(e))},M=function(e){return k.get("api/search/?query=".concat(e))},R=function(e){var t=e.data,n=t.date_in_theater,a=t.main_taiwan_name,c=t.internal;return Object(j.jsxs)("div",{className:"recommend-card",onClick:function(){x(),setTimeout((function(){f(Object(j.jsx)(z,{id:c}))}),500)},children:[Object(j.jsx)("div",{className:"recommend-card-img",children:Object(j.jsx)("img",{src:t.img})}),Object(j.jsxs)("div",{className:"recommend-card-content",children:[Object(j.jsx)("h6",{children:n.slice(0,4)}),Object(j.jsx)("p",{children:a})]})]})},L=c.a.memo(R),I={Comedy:{id:1,name:"\u559c\u5287",type:"comedy"},Fantasy:{id:2,name:"\u5947\u5e7b",type:"fantasy"},Romance:{id:3,name:"\u611b\u60c5",type:"romance"},Drama:{id:4,name:"\u5287\u60c5",type:"drama"},Action:{id:5,name:"\u52d5\u4f5c",type:"action"},Suspense:{id:6,name:"\u61f8\u7591",type:"suspense"},War:{id:7,name:"\u6230\u722d",type:"war"},Adventure:{id:8,name:"\u5192\u96aa",type:"adventure"},Mystery:{id:11,name:"\u63a8\u7406",type:"mystery"},Horror:{id:12,name:"\u9a5a\u609a\u6050\u6016",type:"horror"},"Sci-Fi":{id:13,name:"\u79d1\u5e7b",type:"Science fiction"},Crime:{id:13,name:"\u72af\u7f6a",type:"crime"},Historical:{id:16,name:"\u6b77\u53f2",type:"historical"},Musical:{id:17,name:"\u6b4c\u821e",type:"musical"},Sports:{id:18,name:"\u9ad4\u80b2",type:"sports"},Biography:{name:"\u50b3\u8a18",type:"biography"}},B=function(e){var t=e.split(","),n="";return t.forEach((function(e,t){I[e]&&(n+=(0!==t?"\u3001":"")+I[e].name)})),n},H=function(e){var t=e.id,n=e.closeModal,c=Object(a.useState)({}),s=Object(o.a)(c,2),i=s[0],r=s[1],l=Object(a.useState)([]),d=Object(o.a)(l,2),u=d[0],b=d[1],m=Object(a.useRef)(null),O=Object(a.useCallback)((function(){n()}),[]),p=function(e){var t=i.rotten_tomato_id,n=i.imdb_id,a=i.douban_id;switch(e){case"imdb":return window.open("https://www.imdb.com/title/".concat(n),"_blank");case"douban":return window.open("https://movie.douban.com/subject/".concat(a),"_blank");case"tomatoes":return window.open("https://www.rottentomatoes.com/m/".concat(t),"_blank")}},v=function(){var e=Object(N.a)(_.a.mark((function e(){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",n());case 5:r(a.data[0]),window.scrollTo({top:0});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(N.a)(_.a.mark((function e(){var n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:n=e.sent,a=n.data,b(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v(),f()}),[]),Object(j.jsxs)("div",{className:"modal movie-detail-container",children:[Object(j.jsx)("div",{onClick:function(){return O()},className:"black-background"}),!Object(h.isEmpty)(i)&&Object(j.jsxs)("div",{className:"movie-detail",ref:m,children:[Object(j.jsxs)("div",{className:"movie-detail-top",children:[Object(j.jsx)("button",{className:"btn-close",onClick:O,children:Object(j.jsx)("svg",{viewBox:"0 0 24 24","data-uia":"previewModal-closebtn",role:"button","aria-label":"close",tabIndex:"0",children:Object(j.jsx)("path",{d:"M12 10.586l7.293-7.293 1.414 1.414L13.414 12l7.293 7.293-1.414 1.414L12 13.414l-7.293 7.293-1.414-1.414L10.586 12 3.293 4.707l1.414-1.414L12 10.586z",fill:"currentColor"})})}),Object(h.isEmpty)(i.video_id)?Object(j.jsx)("img",{src:i.img}):Object(j.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(i.video_id,"?rel=0&autoplay=1&mute=1&enablejsapi=1"),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}),Object(j.jsx)("div",{className:"background-gradient"}),Object(j.jsxs)("div",{className:"info",children:[Object(j.jsx)("h3",{children:i.main_taiwan_name}),Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("div",{className:"button plus",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",children:Object(j.jsx)("path",{d:"M32 16v32m16-16H16"})})}),Object(j.jsx)("div",{className:"button play",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",children:Object(j.jsx)("path",{d:"M54 35h2a4 4 0 1 0 0-8H34a81 81 0 0 0 2-18 4 4 0 0 0-8 0s-4 22-18 22H4v24h10c4 0 12 4 16 4h20a4 4 0 0 0 0-8h2a4 4 0 0 0 0-8h2a4 4 0 0 0 0-8"})})})]})]})]}),Object(j.jsxs)("div",{className:"movie-detail-bottom",children:[Object(j.jsxs)("div",{className:"left-row",children:[Object(j.jsx)("p",{className:"preference",children:"XX% \u9069\u5408\u59b3"}),Object(j.jsx)("p",{className:"year",children:i.date_in_theater?i.date_in_theater.slice(0,4):""}),i.chinese_description?i.chinese_description.trim().split("\u3002").map((function(e,t){return e.length?Object(j.jsx)("article",{children:"".concat(e,"\u3002")},t):null})):Object(j.jsx)("article",{})]}),Object(j.jsxs)("div",{className:"right-row",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"\u5c0e\u6f14\uff1a"}),i.director_list||""]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"\u6f14\u54e1\uff1a"}),i.actor_list.replaceAll(",","\u3001")]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"\u985e\u578b\uff1a"}),B(i.feature_list)]}),Object(j.jsxs)("div",{className:"buttons",children:[i.rating&&Object(j.jsxs)("div",{className:"icon-button-wrap",onClick:function(){return p("imdb")},children:[Object(j.jsx)("div",{className:"button imdb"}),Object(j.jsx)("p",{className:"score",children:"".concat(i.rating,"\uff08\u5171 ").concat(i.rating_count," \u8a55\u5206\uff09")})]}),i.avg_rating&&Object(j.jsxs)("div",{className:"icon-button-wrap",onClick:function(){return p("douban")},children:[Object(j.jsx)("div",{className:"button douban"}),Object(j.jsx)("p",{className:"score",children:"".concat(i.avg_rating,"\uff08\u5171 ").concat(i.total_rating_amount," \u8a55\u5206\uff09")})]}),!Object(h.isEmpty)(i.audience_rating)&&Object(j.jsxs)("div",{className:"icon-button-wrap",onClick:function(){return p("tomatoes")},children:[Object(j.jsx)("div",{className:"button tomatoes"}),Object(j.jsx)("p",{className:"score",children:"".concat(i.audience_rating," \u89c0\u773e\u8a55\u5206\uff08\u5171 ").concat(i.audience_rating_amount," \u8a55\u5206\uff09")})]}),!Object(h.isEmpty)(i.tomator_rating)&&Object(j.jsxs)("div",{className:"icon-button-wrap",onClick:function(){return p("tomatoes")},children:[Object(j.jsx)("div",{className:"button tomatoes"}),Object(j.jsx)("p",{className:"score",children:"".concat(i.tomator_rating," \u5f71\u8a55\u8a55\u5206\uff08\u5171 ").concat(i.tomator_rating_amount," \u8a55\u5206\uff09")})]})]})]})]}),u&&Object(j.jsxs)("div",{className:"movie-detail-recommend",children:[Object(j.jsx)("h4",{children:"\u985e\u4f3c\u5f71\u7247"}),Object(j.jsx)("div",{className:"list",children:u.map((function(e,t){return t>8?null:Object(j.jsx)(L,{data:e},e.id)}))})]})]})]})},z=c.a.memo(H),F=c.a.memo((function(e){var t=e.data,n=e.clintRect,c=e.closeModal,s=e.setVisible,i=Object(a.useState)(null),r=Object(o.a)(i,2),l=r[0],d=r[1],u=Object(a.useState)(null),b=Object(o.a)(u,2),m=b[0],O=b[1],p=Object(a.useRef)(null),v=function(e){var t=e.width,n=e.height,a=e.top,c=e.left,s=window.screen,i=s.availWidth,r=s.availHeight,o=1.7*t>350?350:1.7*t,l=1.08*o,d=a-(l-n)/2,u=c-(o-t)/2;return a+l>r&&(d=r-l),c+o>i&&(u=.96*i-o),c-10<=.04*i&&(u=.04*i),{position:{top:Math.floor(d),left:Math.floor(u)},size:{width:Math.floor(o),height:"auto"}}}(n),x=v.position,g=v.size;Object(a.useEffect)((function(){var e=setTimeout((function(){p.current.classList.remove("hidden")}),500);return d(e),function(){clearTimeout(l),clearTimeout(m)}}),[]);t.id;var w=t.main_taiwan_name,y=t.main_original_name,_=t.imdb_rating,N=t.douban_rating,S=t.tomator_rating,k=t.img,E=t.video_id;return Object(j.jsx)("div",{className:"modal floating-card-wrapper",style:x,children:Object(j.jsx)("div",{className:"floating-card hidden",style:g,onMouseLeave:function(){if(p){p.current.classList.add("hidden");var e=setTimeout((function(){return c()}),300);O(e)}s(!1)},ref:p,children:Object(j.jsxs)("div",{className:"movie-card-info",children:[Object(h.isEmpty)(E)?Object(j.jsx)("img",{src:k}):Object(j.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(E,"?rel=0&autoplay=1&mute=1&enablejsapi=1"),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}),Object(j.jsxs)("div",{className:"info-content",children:[Object(j.jsxs)("div",{className:"content-top",children:[Object(j.jsxs)("h4",{children:["".concat(w,"  "),Object(j.jsx)("span",{children:y})]}),Object(j.jsx)("p",{className:"preference",children:"XX% \u9069\u5408\u60a8"})]}),Object(j.jsx)("div",{className:"tags"}),Object(j.jsxs)("div",{className:"buttons",children:[!Object(h.isEmpty)(_)&&Object(j.jsxs)("div",{className:"icon-button-wrap",children:[Object(j.jsx)("div",{className:"button imdb"}),Object(j.jsx)("p",{className:"score",children:_})]}),!Object(h.isEmpty)(N)&&Object(j.jsxs)("div",{className:"icon-button-wrap",children:[Object(j.jsx)("div",{className:"button douban"}),Object(j.jsx)("p",{className:"score",children:N})]}),!Object(h.isEmpty)(S)&&Object(j.jsxs)("div",{className:"icon-button-wrap",children:[Object(j.jsx)("div",{className:"button tomatoes"}),Object(j.jsx)("p",{className:"score",children:S})]}),Object(j.jsx)("div",{className:"button play",onClick:function(){f(Object(j.jsx)(z,{id:t.internal}))},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",children:Object(j.jsx)("path",{d:"M6 2l52 30L6 62V2z"})})})]})]})]})})})})),P=function(e){var t=e.title,n=e.movies,c=Object(a.useRef)(null);return Object(j.jsxs)("div",{className:"movie-list-wrapper",children:[Object(j.jsx)(d.b,{className:"movie-list-title",to:"/",children:t}),Object(j.jsx)("div",{className:"movie-list",children:Object(j.jsxs)("div",{className:"slider-container",children:[Object(j.jsx)("button",{className:"btn-previous",onClickCapture:function(){var e;x(),null===(e=c.current)||void 0===e||e.slickPrev()}}),Object(j.jsx)(O.a,Object(r.a)(Object(r.a)({},{dots:!1,infinite:!0,speed:500,slidesToShow:7,slidesToScroll:7,initialSlide:0,responsive:[{breakpoint:1400,settings:{slidesToShow:8,slidesToScroll:8,infinite:!0}},{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6,infinite:!0}},{breakpoint:992,settings:{slidesToShow:6,slidesToScroll:6,infinite:!0}},{breakpoint:768,settings:{slidesToShow:4,slidesToScroll:4,infinite:!0}},{breakpoint:576,settings:{slidesToShow:4,slidesToScroll:4}}]}),{},{ref:c,children:n.map((function(e){return Object(j.jsx)(w,{data:e},e.id)}))})),Object(j.jsx)("button",{className:"btn-next",onClickCapture:function(){var e;x(),null===(e=c.current)||void 0===e||e.slickNext()}})]})})]})};function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)([]),r=Object(o.a)(i,2),l=r[0],d=r[1];e.hasOwnProperty("start")||(e.start=0),e.hasOwnProperty("sort")||(e.sort="rating_total_amount");var u=function(){var t=Object(N.a)(_.a.mark((function t(){var n,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,E(e);case 3:n=t.sent,a=n.data,d(a),s(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){u()}),[]),[l,c]}var q=function(e){var t=e.children,n=e.style,c=e.className;return Object(a.useEffect)((function(){x(),console.log("removeCards")}),[]),Object(j.jsx)("div",{style:n,className:c,children:t})},D=function(){var e=W(),t=Object(o.a)(e,2),n=t[0],a=t[1],c=W({feature:I.Romance.id}),s=Object(o.a)(c,1)[0],i=W({feature:I.Mystery.id}),r=Object(o.a)(i,1)[0],l=W({feature:I.Horror.id}),d=Object(o.a)(l,1)[0];return Object(j.jsxs)(q,{className:"".concat(a&&"loading"),children:[Object(j.jsx)(b,{}),Object(j.jsxs)("div",{className:"home-content-wrapper",children:[Object(j.jsx)(P,{movies:n,title:"\u71b1\u9580\u7d93\u5178"}),Object(j.jsx)(P,{movies:s,title:"\u6d6a\u6f2b\u611b\u60c5"}),Object(j.jsx)(P,{movies:r,title:"\u63a8\u7406\u61f8\u7591"}),Object(j.jsx)(P,{movies:d,title:"\u9a5a\u609a\u6050\u6016"})]})]})};function K(){var e=Object(l.f)();return{changeRouter:function(t){t&&(x(),e.push(t))}}}var V=function(e){var t=e.searchWord,n=Object(a.useState)([]),c=Object(o.a)(n,2),s=c[0],i=c[1],r=K();return Object(a.useEffect)((function(){if(Object(h.isEmpty)(t))return r("/");(function(){var e=Object(N.a)(_.a.mark((function e(t){var n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:n=e.sent,a=n.data,i(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),Object(j.jsx)(q,{className:"search-wrapper",children:!Object(h.isEmpty)(t)&&Object(j.jsxs)(j.Fragment,{children:[s.length&&Object(j.jsxs)("p",{className:"search-hint",children:["\u627e\u5230\u8207\u300c ",Object(j.jsx)("span",{children:t})," \u300d\u6709\u95dc\u7684\u5f71\u7247"]}),!s.length&&Object(j.jsxs)("p",{className:"search-hint",children:["\u627e\u4e0d\u5230\u8207\u300c ",Object(j.jsx)("span",{children:t})," \u300d\u6709\u95dc\u7684\u5f71\u7247"]}),Object(j.jsx)("div",{className:"movie-gallery",children:s.map((function(e){return Object(j.jsx)(w,{data:e},e.id)}))})]})})},A=n(76),X=n(405),U=n(404),Y=n(403),J=n(402),G=Object.values(I);G.unshift({id:"",name:"\u5168\u90e8\u985e\u578b",type:"all"});var Q=[{name:"\u71b1\u9580\u53c3\u8003",value:"rating_total_amount"},{name:"IMDB",value:"imdb_rating"},{name:"\u8c46\u74e3",value:"douban_rating"},{name:" \u721b\u756a\u8304",value:"audience_rating"}],Z=[{value:"imdb_rating",label:"IMDB",children:[{value:"imdb_rating=9",label:"9 \u5206\u4ee5\u4e0a"},{value:"imdb_rating=8",label:"8 \u5206\u4ee5\u4e0a"},{value:"imdb_rating=7",label:"7 \u5206\u4ee5\u4e0a"},{value:"imdb_rating=6",label:"6 \u5206\u4ee5\u4e0a"},{value:"imdb_rating=5",label:"5 \u5206\u4ee5\u4e0a"},{value:"imdb_rating=4",label:"4 \u5206\u4ee5\u4e0a"},{value:"imdb_rating=3",label:"3 \u5206\u4ee5\u4e0a"}]},{value:"douban_rating",label:"\u8c46\u74e3",children:[{value:"douban_rating=9",label:"9 \u5206\u4ee5\u4e0a"},{value:"douban_rating=8",label:"8 \u5206\u4ee5\u4e0a"},{value:"douban_rating=7",label:"7 \u5206\u4ee5\u4e0a"},{value:"douban_rating=6",label:"6 \u5206\u4ee5\u4e0a"},{value:"douban_rating=5",label:"5 \u5206\u4ee5\u4e0a"},{value:"douban_rating=4",label:"4 \u5206\u4ee5\u4e0a"},{value:"douban_rating=3",label:"3 \u5206\u4ee5\u4e0a"}]},{value:"tomato_rating",label:"\u721b\u756a\u8304",children:[{value:"tomato_rating=9",label:"90 \u5206\u4ee5\u4e0a"},{value:"tomato_rating=8",label:"80 \u5206\u4ee5\u4e0a"},{value:"tomato_rating=7",label:"70 \u5206\u4ee5\u4e0a"},{value:"tomato_rating=6",label:"60 \u5206\u4ee5\u4e0a"},{value:"tomato_rating=5",label:"50 \u5206\u4ee5\u4e0a"},{value:"tomato_rating=4",label:"40 \u5206\u4ee5\u4e0a"},{value:"tomato_rating=3",label:"30 \u5206\u4ee5\u4e0a"}]}],$=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(o.a)(s,2),l=i[0],d=i[1],u=Object(a.useState)([]),b=Object(o.a)(u,2),m=b[0],O=b[1],p=Object(a.useRef)(null),v=Object(a.useState)({sort:"rating_total_amount",feature:"",start_year:1980,end_year:2021}),f=Object(o.a)(v,2),g=f[0],y=f[1],S=function(e,t){y(Object(r.a)(Object(r.a)({},g),{},Object(A.a)({},e,t)))},k=Object(h.debounce)((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];y(Object(r.a)(Object(r.a)({},g),{},{start_year:n,end_year:a}))}),500),T=function(){var e=Object(N.a)(_.a.mark((function e(t){var n,a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),(n=Object(r.a)({},g)).start=t||0,console.log(n),e.next=6,E(n);case 6:a=e.sent,c=a.data,O(t?m.concat(c):c),d(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){x(),T()}),[g]),Object(a.useEffect)((function(){n&&m.length&&T(m.length)}),[n]),Object(a.useEffect)((function(){var e=new IntersectionObserver((function(e){var t=e[0];c(t.isIntersecting)}),{threshold:[1]});return p.current&&e.observe(p.current),function(){e.disconnect()}}),[]),Object(j.jsxs)(q,{className:"browse-wrapper ".concat(l&&"loading"),children:[Object(j.jsxs)("div",{className:"conditions-wrapper",children:[Object(j.jsx)(X.a,{md:2,children:Object(j.jsx)("div",{style:{height:400,position:"fixed"},children:Object(j.jsx)(U.a,{defaultValue:[1980,2021],min:1980,max:2021,graduated:!0,vertical:!0,renderMark:function(e){if(e%5===0)return Object(j.jsx)("span",{children:e})},onChange:k})})}),Object(j.jsxs)("div",{className:"flex-space-between",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(Y.a,{title:Object(h.find)(G,{id:g.feature}).name,activeKey:g.feature,onSelect:function(e){return S("feature",Object(h.find)(G,{type:e}).id)},children:G.map((function(e,t){var n=e.id,a=e.name,c=e.type;return Object(j.jsx)(Y.a.Item,{eventKey:c,children:a},n+t)}))}),Object(j.jsx)(Y.a,{title:Object(h.find)(Q,{value:g.sort}).name,activeKey:g.value,onSelect:function(e){return S("sort",e)},children:Q.map((function(e){var t=e.name,n=e.value;return Object(j.jsx)(Y.a.Item,{eventKey:n,children:t},n)}))})]}),Object(j.jsx)(J.a,{data:Z,appearance:"default",placeholder:"\u7be9\u9078\u8a55\u5206",style:{width:"min-content",backgroundColor:"#141414"},searchable:!1,onChange:function(e){Object(h.isEmpty)(e)&&(delete g.imdb_rating,delete g.douban_rating,delete g.tomato_rating,T())},onSelect:function(e,t){if(!(t.length<2)){var n=Object(o.a)(t,2),a=n[0],c=n[1];S(a.value,c.value[c.value.length-1])}},renderValue:function(){var e="",t=g.imdb_rating,n=g.douban_rating,a=g.tomato_rating;return t&&(e+="IMDB / ".concat(t," \u5206\u4ee5\u4e0a")),n&&(e+="".concat(Object(h.isEmpty)(e)?"":"\u3001","\u8c46\u74e3 / ").concat(n," \u5206\u4ee5\u4e0a")),a&&(e+="".concat(Object(h.isEmpty)(e)?"":"\u3001","\u721b\u756a\u8304 / ").concat(a," \u5206\u4ee5\u4e0a")),e}})]})]}),Object(j.jsx)("div",{className:"movie-gallery",children:m.map((function(e,t){return Object(j.jsx)(w,{data:e},e.id+t)}))}),Object(j.jsx)("div",{className:"page-bottom",ref:p})]})},ee=n(192),te=n.n(ee),ne=function(e){var t=e.isTop,n=e.setSearchWord,c=K().changeRouter,s=Object(a.useState)(!1),i=Object(o.a)(s,2),r=i[0],l=i[1];return Object(j.jsxs)("nav",{className:"navbar ".concat(t&&"top"),children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(d.b,{className:"logo",to:"/"}),Object(j.jsxs)("ul",{className:"navbar-list",children:[Object(j.jsx)(d.b,{to:"/",children:"\u9996\u9801"}),Object(j.jsx)(d.b,{to:"/browse",children:"\u96fb\u5f71\u5206\u985e"})]})]}),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"navbar-input-group ".concat(r&&"isFocus"),children:[Object(j.jsx)("button",{children:Object(j.jsx)(te.a,{size:"3em",style:{color:"white",fontSize:"22px"},onClick:function(){return l(!0)}})}),Object(j.jsx)("input",{type:"text",onKeyDown:function(e){"Enter"===e.key&&(Object(h.isEmpty)(e.target.value)?(l(!1),c("/")):(n(e.target.value),c("/search")))}})]})})]})},ae=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)("  "),i=Object(o.a)(s,2),u=i[0],b=i[1];return window.addEventListener("scroll",(function(){c(window.scrollY<150),document.documentElement.scrollTop>150&&x(".floating-card-wrapper")})),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(ne,{isTop:n,setSearchWord:b}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",component:D}),Object(j.jsx)(l.a,{exact:!0,path:"/search",render:function(e){return Object(j.jsx)(V,Object(r.a)(Object(r.a)({},e),{},{searchWord:u}))}}),Object(j.jsx)(l.a,{exact:!0,path:"/browse",component:$})]})]})})};n(398),n(399);i.a.render(Object(j.jsx)(ae,{}),document.getElementById("root"))}},[[400,1,2]]]);
//# sourceMappingURL=main.65a7e495.chunk.js.map